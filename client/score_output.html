<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InstaRoom - è¯„åˆ†ç»“æœ</title>
    <style>
        /* å“ç‰Œé…è‰²: ä¸»æ©™è‰² (#FF8C00), æ·±ç° (#333), è¾…è“è‰² (#1E40AF) */
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #f7f9fc; color: #333; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; background-color: #ffffff; padding: 40px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05); }
        
        /* Logo æ ·å¼ */
        .logo { font-size: 24px; font-weight: bold; color: #333333; margin-bottom: 20px; text-align: center; }
        .logo-icon { color: #FF8C00; margin-right: 5px; }

        h1 { color: #333333; text-align: center; margin-bottom: 30px; font-size: 28px; }
        .summary { text-align: center; margin-bottom: 30px; font-size: 18px; line-height: 1.6; }
        
        .style-tag { 
            display: inline-block; 
            background-color: #ffe0b2; /* æµ…æ©™è‰²èƒŒæ™¯ */
            color: #FF8C00; /* æ©™è‰²æ–‡å­— */
            padding: 5px 15px; 
            border-radius: 20px; 
            font-weight: 600; 
            margin-top: 10px; 
        }
        
        /* è¯„åˆ†å¡ç‰‡ */
        .score-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 40px; }
        .score-card { text-align: center; padding: 15px; border-radius: 8px; background-color: #f0f4f7; }
        .score-value { 
            font-size: 36px; 
            font-weight: bold; 
            color: #FF8C00; /* åˆ†æ•°ä½¿ç”¨å“ç‰Œæ©™è‰² */
            line-height: 1; 
        }
        .score-label { font-size: 14px; color: #666; margin-top: 5px; }

        /* å»ºè®®åŒºä½¿ç”¨å“ç‰Œæ©™è‰²å¼ºè°ƒ */
        .suggestions-section { 
            background-color: #fffaf5; 
            padding: 25px; 
            border-radius: 8px; 
            border-left: 5px solid #FF8C00; 
        }
        .suggestions-section h2 { 
            color: #FF8C00; 
            font-size: 22px; 
            margin-top: 0; 
            margin-bottom: 15px; 
        }
        .suggestions-list li { margin-bottom: 15px; background-color: #ffffff; padding: 10px; border-radius: 4px; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); }
        
        /* CTA æŒ‰é’®ä½¿ç”¨å“ç‰Œè¾…è‰²è“è‰² */
        .cta-button { 
            background-color: #1E40AF; 
            color: white; 
            padding: 15px 30px; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 18px; 
            margin-top: 30px; 
            transition: background-color 0.3s; 
            width: 100%; 
            text-decoration: none; 
            display: block; 
            text-align: center; 
        }
        .cta-button:hover { 
            background-color: #173287; 
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <span class="logo-icon">âœ¨</span> InstaRoom
        </div>
        <h1 id="totalScoreHeader">AI æ™ºèƒ½è¯„åˆ†ï¼š--/100</h1>

        <div class="summary">
            <p id="summaryText">æ­£åœ¨åŠ è½½åˆ†æç»“æœ...</p>
            <div id="styleTag" class="style-tag"></div>
        </div>

        <div class="score-grid" id="scoreGrid">
            <!-- è¯„åˆ†å¡ç‰‡å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
        </div>

        <div class="suggestions-section">
            <h2>ğŸ’¡ æ”¹è¿›å»ºè®® (é‡ç‚¹ï¼š<span id="keySuggestionCategory">--</span>)</h2>
            <ul id="suggestionsList" class="suggestions-list">
                <!-- å»ºè®®åˆ—è¡¨å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
            </ul>
        </div>

        <a href="input.html" class="cta-button">å°è¯•å•å®¶å…·ç½®æ¢æ–¹æ¡ˆ (åŠŸèƒ½1 æ•¬è¯·æœŸå¾…!)</a>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const resultDataString = localStorage.getItem('scoringResult');
            if (!resultDataString) {
                alert('æœªæ‰¾åˆ°è¯„åˆ†æ•°æ®ï¼Œè¯·é‡æ–°ä¸Šä¼ ç…§ç‰‡ã€‚');
                window.location.href = 'input.html';
                return;
            }

            const data = JSON.parse(resultDataString);

            // 1. è®¾ç½®æ€»åˆ†å’Œæ€»ç»“
            document.getElementById('totalScoreHeader').textContent = `AI æ™ºèƒ½è¯„åˆ†ï¼š${data.total_score}/100`;
            document.getElementById('summaryText').textContent = data.summary_text;
            document.getElementById('styleTag').textContent = `é£æ ¼è¯†åˆ«ï¼š${data.inherent_style}`;
            document.getElementById('keySuggestionCategory').textContent = data.key_suggestion_category;

            // 2. åŠ¨æ€ç”Ÿæˆè¯„åˆ†å¡ç‰‡
            const scoreGrid = document.getElementById('scoreGrid');
            const scoreMap = {
                "Functional_Score": "åŠŸèƒ½æ€§å¾—åˆ†",
                "Aesthetics_Score": "ç¾è§‚åº¦å¾—åˆ†",
                "Lighting_Score": "æ°›å›´/ç…§æ˜å¾—åˆ†",
                "Overall_Design_Score": "æ•´ä½“è®¾è®¡å¾—åˆ†"
            };

            for (const key in data.scores) {
                const card = document.createElement('div');
                card.classList.add('score-card');
                
                let displayName = scoreMap[key] || key.replace(/_/g, ' '); // æ›¿æ¢ä¸‹åˆ’çº¿ä»¥é˜²ä¸‡ä¸€
                
                card.innerHTML = `
                    <div class="score-value">${data.scores[key]}</div>
                    <div class="score-label">${displayName}</div>
                `;
                scoreGrid.appendChild(card);
            }

            // 3. åŠ¨æ€ç”Ÿæˆå»ºè®®åˆ—è¡¨
            const suggestionsList = document.getElementById('suggestionsList');
            // æ¸…ç©ºé»˜è®¤å†…å®¹ä»¥é˜²ä¸‡ä¸€
            suggestionsList.innerHTML = '';
            
            data.improvement_suggestions.forEach((suggestion, index) => {
                const li = document.createElement('li');
                li.textContent = `[${index + 1}] ${suggestion}`;
                suggestionsList.appendChild(li);
            });
            
            // æ¸…ç† localStorageï¼Œé˜²æ­¢ä¸‹æ¬¡æ„å¤–åŠ è½½æ—§æ•°æ®
            localStorage.removeItem('scoringResult');
        });
    </script>
</body>
</html>